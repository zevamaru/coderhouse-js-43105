<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
  </head>
  <style>
    .modoOsc {
      background-color: #222;
      color: white;
    }
    #btnModo {
      font-family: "Inter", sans-serif;
      font-size: 30px;
      text-decoration: none;
      border: 3px solid white;
      color: white;
      border-radius: 20px;
      background-color: #333;
      padding: 15px 20px;
      display: inline-block;
      text-transform: uppercase;
      min-width: 400px;
      text-align: center;
    }
    .modoOsc #btnModo {
      border-color: #333;
      color: #333;
      background-color: white;
    }
  </style>
  <body>
    <a href="http://google.com" id="btnModo">Activar modo oscuro</a>
    <h1>Hola bienvenido a mi página</h1>
    <p>
      Lorem ipsum dolor sit, amet consectetur adipisicing elit. Incidunt optio explicabo
      necessitatibus aliquam esse nemo provident facilis suscipit non, fugit at consequatur ex quia
      sed harum, a nam aspernatur molestiae! Doloribus tempora vitae dolorem nostrum dolorum
      possimus explicabo impedit fuga itaque neque libero quidem ab, quae illo amet. In nihil harum
      sapiente pariatur illo. Voluptates veritatis nisi deleniti neque odit ea, cum, dicta non ullam
      dignissimos, doloremque explicabo asperiores recusandae omnis? Maxime laborum dolore,
      distinctio modi obcaecati officiis voluptates molestiae vitae temporibus reprehenderit ex
      deserunt quaerat dolores nulla veritatis nobis explicabo provident cum quia omnis harum sint
      repellat laudantium molestias?
    </p>
    <script>
      // Elementos
      const btnModoOsc = document.querySelector("#btnModo");

      // modoOscuro = 0: Modo claro activado
      // modoOscuro = 1: Modo oscuro activado
      // Lo traigo del localStorage y en caso de que no haya nada, con la función Number
      // nos aseguramos que si no hay nada nos devuelva un 0
      let modoOscuro = Number(localStorage.getItem("modo"));

      // Aplico el modo apenas de carga la página, con lo que traje del storage
      aplicarModo(modoOscuro);

      // Evento click del link
      btnModoOsc.addEventListener("click", function (event) {
        // Previene el comportamiento default del HTML: en este caso
        // que no se ejecute el link
        event.preventDefault();
        // Invierto los valores:
        // Si está en 1, lo pongo en 0 (modo claro)
        // Pero si está en 0, lo pongo en 1 (modo oscuro)
        //modoOscuro = modoOscuro == 1 ? 0 : 1;
        modoOscuro = !modoOscuro;
        // Guardo en el storage
        localStorage.setItem("modo", modoOscuro);
        // Aplico el modo
        aplicarModo(modoOscuro);
      });

      // Función para aplicar el modo seleccionado
      function aplicarModo(modoOscuro) {
        // Si no es un falsy (0), poné el modo oscuro
        if (modoOscuro) {
          document.body.className = "modoOsc";
          // PERO en el texto poné que se pueda activar el Modo claro
          btnModoOsc.innerText = "Activar modo claro";
        } else {
          // Si está en 0, borrá la clase modoOsc
          document.body.className = "";
          // Y poné en el botón que se pueda activar el Modo oscuro
          btnModoOsc.innerText = "Activar modo oscuro";
        }
      }
    </script>
  </body>
</html>
